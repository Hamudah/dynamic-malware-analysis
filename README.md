# Automatisierung von Dynamischer Malware erkennung
---
## A fully functional setup, to analyze malware inside of a Sandbox created via **VBoxManage CLI** and the **Virtualbox API** 
---
* First create a Windows and an Ubuntu virtuell machine via a VBoxManage Script
* Customize and set-up virtual machines for malware analysis (Download and set-up FTP, SSH, etc.)
* Set-up connection between VMs
* Loop Script with Malware/Goodware on the Windows Machine and extract Data via the Intel-Pin Tool
* Extract Data from the Ubuntu Machine

## Network Topology
![Network Diagramm](https://github.com/Hamudah/dynamic-malware-analysis/blob/main/Graphs/Network.png?raw=true)

## Requirements
To run the project locally on your PC, the following requirments are necessary:
* `Orcale VirtuelBox 7.0` [Link](https://www.virtualbox.org/wiki/Downloads) or newer
* Download the prepared ISO files [Link](https://o365adessogroup-my.sharepoint.com/:f:/g/personal/muhammed_adel_adesso_de/Ei8tYkVjHdBAs77yBDSv45YBCA18SmWu19hOj_tAwPspQw?e=eylSeM), or use your own iso files, which are supported to do an unattended installation. You can check if your ISO file supports this with `vboxmanage unattended detect --iso=/path/to/iso/file.iso`. Otherwise you could create your own Iso files, by using the config files in ` config_files/ `. For Windows the **Windows SDK** is needed and for Ubuntu **WSL**

## Installation
First download the repository in any directory on your Windows System

`git clone https://github.com/Hamudah/dynamic-malware-analysis.git`

After you downloaded the repository execute the complete_setup.bat by either double clicking on it or over the cmd. For that go into the main directory `dynamic-malware-analysis/` and execute the complete_setup.bat. **WARNING** Make sure that your system has enough resources, which are distributed to the VMs in the script. Change the whole thing so that it fits on your system. Also change the path of the VBoxManage.exe, if you decide to install it somewhere else. 

`.\Scripts\batch\complete_setup.bat` 

