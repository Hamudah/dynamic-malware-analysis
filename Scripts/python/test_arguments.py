import sys
import ftplib
import io

# Get the filename argument
if len(sys.argv) < 2:
    print("Usage: python ftp_transfer.py <filename>")
    sys.exit(1)
filename = sys.argv[1]

# Set up the FTP connection
ftp = ftplib.FTP("192.178.162.1")
ftp.login(user="ftpuser", passwd="ftpuser")

# Change to the desired directory on the FTP server
ftp.cwd("upload")

# Upload the file
bio = io.BytesIO(b'Hallo Passi')
ftp.storbinary(f'STOR {filename}',bio)

# Download the file
#with open(filename, "wb") as f:
#    ftp.retrbinary(f"RETR {filename}", f.write)

# Close the FTP connection
ftp.quit()